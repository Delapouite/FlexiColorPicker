!function(t,e,i){function s(t){if(t.offsetX!==i&&t.offsetY!==i)return{x:t.offsetX,y:t.offsetY};var e=t.target.parentNode.parentNode;return{x:t.layerX-e.offsetLeft,y:t.layerY-e.offsetTop}}function o(t,i,s){t=e.createElementNS(u,t);for(var o in i)t.setAttribute(o,i[o]);Array.isArray(s)||(s=[s]);for(var r=0,n=s[0]&&s.length||0;n>r;r++)t.appendChild(s[r]);return t}function r(t){var e,i,s,o,r,n=t.h%360/60;r=t.v*t.s,o=r*(1-Math.abs(n%2-1)),e=i=s=t.v-r,n=~~n,e+=[r,o,0,0,o,r][n],i+=[o,r,r,o,0,0][n],s+=[0,0,o,r,r,o][n];var l=Math.floor(255*e),a=Math.floor(255*i),c=Math.floor(255*s);return{r:l,g:a,b:c,hex:"#"+(16777216|c|a<<8|l<<16).toString(16).slice(1)}}function n(t){var e=t.r,i=t.g,s=t.b;(t.r>1||t.g>1||t.b>1)&&(e/=255,i/=255,s/=255);var o,r,n,l;return n=Math.max(e,i,s),l=n-Math.min(e,i,s),o=0==l?null:n==e?(i-s)/l+(s>i?6:0):n==i?(s-e)/l+2:(e-i)/l+4,o=60*(o%6),r=0==l?0:l/n,{h:o,s:r,v:n}}function l(t,e,o){return function(n){var l=s(n);t.h=360*(l.y/e.offsetHeight)+v;var a=r({h:t.h,s:1,v:1}),c=r({h:t.h,s:t.s,v:t.v});o.style.backgroundColor=a.hex,t.callback&&t.callback(c.hex,{h:t.h-v,s:t.s,v:t.v},{r:c.r,g:c.g,b:c.b},i,l)}}function a(t,e){return function(i){var o=s(i),n=e.offsetWidth,l=e.offsetHeight;t.s=o.x/n,t.v=(l-o.y)/l;var a=r(t);t.callback&&t.callback(a.hex,{h:t.h-v,s:t.s,v:t.v},{r:a.r,g:a.g,b:a.b},o)}}function c(t,e,i){if(!(this instanceof c))return new c(t,e,i);if(this.h=0,this.s=1,this.v=1,i)this.callback=i,this.pickerElement=e,this.slideElement=t;else{var s=t;s.innerHTML=g,this.slideElement=s.getElementsByClassName("slide")[0],this.pickerElement=s.getElementsByClassName("picker")[0];var o=s.getElementsByClassName("slide-indicator")[0],r=s.getElementsByClassName("picker-indicator")[0];c.fixIndicators(o,r),this.callback=function(t,i,s,n,l){c.positionIndicators(o,r,l,n),e(t,i,s)}}var n=d.cloneNode(!0),f=p.cloneNode(!0),v=n.getElementById("gradient-hsv"),u=n.getElementsByTagName("rect")[0];v.id="gradient-hsv-"+m,u.setAttribute("fill","url(#"+v.id+")");var y=[f.getElementById("gradient-black"),f.getElementById("gradient-white")],E=f.getElementsByTagName("rect");y[0].id="gradient-black-"+m,y[1].id="gradient-white-"+m,E[0].setAttribute("fill","url(#"+y[1].id+")"),E[1].setAttribute("fill","url(#"+y[0].id+")"),this.slideElement.appendChild(n),this.pickerElement.appendChild(f),m++,this.slideElement.addEventListener("click",l(this,this.slideElement,this.pickerElement),!1),this.pickerElement.addEventListener("click",a(this,this.pickerElement),!1),h(this,this.slideElement,l(this,this.slideElement,this.pickerElement)),h(this,this.pickerElement,a(this,this.pickerElement))}function h(t,e,i){var s=!1;e.addEventListener("mousedown",function(){s=!0},!1),e.addEventListener("mouseup",function(){s=!1},!1),e.addEventListener("mouseout",function(){s=!1},!1),e.addEventListener("mousemove",function(t){s&&i(t)},!1)}function f(t,e,i,s){t.h=e.h%360,t.s=e.s,t.v=e.v;var o=r(t),n={y:t.h*t.slideElement.offsetHeight/360,x:0},l=t.pickerElement.offsetHeight,a={x:t.s*t.pickerElement.offsetWidth,y:l-t.v*l};return t.pickerElement.style.backgroundColor=r({h:t.h,s:1,v:1}).hex,t.callback&&t.callback(s||o.hex,{h:t.h,s:t.s,v:t.v},i||{r:o.r,g:o.g,b:o.b},a,n),t}var p,d,v=15,u="http://www.w3.org/2000/svg",g=['<div class="picker-wrapper">','<div class="picker"></div>','<div class="picker-indicator"></div>',"</div>",'<div class="slide-wrapper">','<div class="slide"></div>','<div class="slide-indicator"></div>',"</div>"].join(""),y={xmlns:u,version:"1.1",width:"100%",height:"100%"};d=o("svg",y,[o("defs",{},o("linearGradient",{id:"gradient-hsv",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[o("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"}),o("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),o("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),o("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),o("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),o("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),o("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),o("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),o("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})])),o("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-hsv)"})]),p=o("svg",y,[o("defs",{},[o("linearGradient",{id:"gradient-black",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[o("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"}),o("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})]),o("linearGradient",{id:"gradient-white",x1:"0%",y1:"100%",x2:"100%",y2:"100%"},[o("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"}),o("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})])]),o("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-white)"}),o("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-black)"})]);var m=0;c.hsv2rgb=function(t){var e=r(t);return delete e.hex,e},c.hsv2hex=function(t){return r(t).hex},c.rgb2hsv=n,c.rgb2hex=function(t){return r(n(t)).hex},c.hex2hsv=function(t){return n(c.hex2rgb(t))},c.hex2rgb=function(t){return{r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16)}},c.prototype.setHsv=function(t){return f(this,t)},c.prototype.setRgb=function(t){return f(this,n(t),t)},c.prototype.setHex=function(t){return f(this,c.hex2hsv(t),i,t)},c.positionIndicators=function(t,e,i,s){i&&(t.style.top=i.y-t.offsetHeight/2+"px"),s&&(e.style.top=s.y-e.offsetHeight/2+"px",e.style.left=s.x-e.offsetWidth/2+"px")},c.fixIndicators=function(t,e){e.style.pointerEvents="none",t.style.pointerEvents="none"},t.ColorPicker=c}(window,window.document);